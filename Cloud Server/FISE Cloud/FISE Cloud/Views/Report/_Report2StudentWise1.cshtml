@using FISE_Cloud.Models;
@model Report2StudentWise

<div class="row reportfilter-row">
    @if (Model.Students.Count() > 0)
    {
        <div class="col-xs-2"><p class="report_subtitle">@Resource.Reports_SelectStudent</p></div>
        <div class="col-xs-2">
            <select name="student" onchange="ChangeStudent(@ViewBag.schoolid,this)">
                @foreach (var item in Model.Students)
                {
                    <option value="@item.UserId">@item.FirstName   @item.LastName</option>
                }
            </select>
        </div>
    }
</div>
<div id="divStudentReport" class="divStudentReport">
    @Html.Partial("_Report8", Model.StudentReport)
</div>
<script>
    function CreateSectionModal() {
        return @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(new { Model.Section }));
    }
    var sectionmodal = CreateSectionModal();
    if (sectionmodal.Section.length > 0) {
        var sectionhtml='';
        $('#sec-' + '@ViewBag.schoolid').find('a').remove();
        $.each(sectionmodal.Section, function (index, val) {
            if (sectionmodal.Section[0] == val)
            {
                sectionhtml += '<a val="' + val + '" class="section select" parent="@ViewBag.schoolid" onclick="sectionclick(this);">' + val + '</a>';
            }
            else
            {
                sectionhtml += '<a val="' + val + '" class="section" parent="@ViewBag.schoolid" onclick="sectionclick(this);">' + val + '</a>';
            }
        });
        $('#sec-' + '@ViewBag.schoolid').append(sectionhtml);
    }
</script>