@model FISE_Cloud.Models.School.ParentDashboardResult
@{
    ViewBag.Title = "Parent Dashboard";
}
<style>
    .circle {
        background: url('/Images/img_school.png') no-repeat;
        height: 230px;
    }

    .count {
        padding-top: 13%;
        text-align: center;
    }

    .align-centre {
        text-align: center;
        font-weight: bold;
    }
</style>
@{  var controllerName = HttpContext.Current.Request.RequestContext.RouteData.GetRequiredString("controller");
    FISE_Cloud.Services.Authentication.UserData _Userdata = null;
    var IsUserAuthenticated = FISEAuthenticationService.IsUserAuthenticated;
    if (IsUserAuthenticated)
    {
        _Userdata = FISEAuthenticationService.CurrentUserData;
    }
}

<div class="row title-section">
    <div class="title-section-subcontent">@Resource.Welcome @_Userdata.DisplayName</div>
@if (Model.Active.Count > 0)
{
    <h4 class="page-title">@Resource.Parent_Dashboard_ActiveStudents</h4>
     <hr />
    }
</div> 

    @foreach (var item in Model.Active)
    {
        <a class="a_link_list-item" href="@Url.RouteUrl("StudentRegistration", new { schooluid = item.SchoolUId, studentid = item.UserId })">
            <div class="row list-item">

                <div class="col-xs-12 list-item-name">@item.FirstName @item.LastName</div>

                <div class="col-xs-12">
                    <span class="list-item-subcontent"><span class="list_content_subdiv_bold">@Resource.Parent_Dash_StudentList_SchoolName</span><span class="list-item-subcontent-wrap">@item.SchoolName</span></span>
                    <span class="list-item-subcontent">
                        <span class="list_content_subdiv_bold">@Resource.Parent_Dash_StudentList_SubStarts</span>
                        <span>@(string.IsNullOrWhiteSpace(@item.SubscriptionStartDate.ToString()) ? "--" : string.Format("{0:dd.MM.yyyy}", item.SubscriptionStartDate))</span>
                    </span>
                    <span class="list-item-subcontent">
                        <span class="list_content_subdiv_bold">@Resource.Parent_Dash_StudentList_SubEnds</span>
                        <span>@(string.IsNullOrWhiteSpace(@item.SubscriptionEndDate.ToString()) ? "--" : string.Format("{0:dd.MM.yyyy}", item.SubscriptionEndDate))</span>
                    </span>
                    <span class="float-right list_content_subdiv_bold">
                        @(item.Status ? Resource.Status_Active : Resource.Status_Disabled)
                    </span>

                </div>

                <div class="col-xs-12">


                    <div class="col-xs-2">
                        <div><h1 class="dashboard-item-count">@item.BooksRead</h1></div>
                        <div class="dashboard-item-count-title">@Resource.Parent_Dashboard_BooksRead</div>
                    </div>
                    <div class="col-xs-2">
                        <div><h1 class="dashboard-item-count">@item.BooksRated</h1></div>
                        <div class="dashboard-item-count-title">@Resource.Parent_Dashboard_BooksRated</div>
                    </div>
                    <div class="col-xs-2">
                        <div><h1 class="dashboard-item-count">@item.ActivitiesCompleted</h1></div>
                        <div class="dashboard-item-count-title">@Resource.Parent_Dashboard_ActivitiesCompleted</div>
                    </div>
                    <div class="col-xs-2">
                        <div><h1 class="dashboard-item-count"> @Math.Round((double)item.HourSpent/60,1)</h1></div>
                        <div class="dashboard-item-count-title dashboard-item-count-title-long">@Resource.Parent_Dashboard_HoursSpentDoingActivities</div>
                    </div>

                </div>



            </div>
        </a>
    }
    @if (Model.ActivationPending.Count > 0)
    {
        <h4 class="page-title">@Resource.Parent_Dashboard_ActivationPending</h4>
        <hr />
        foreach (var item in Model.ActivationPending)
        {

            <a class="a_link_list-item" href="@Url.RouteUrl("StudentRegistration", new { schooluid = item.SchoolUId, studentid = item.UserId })">
                <div class="row list-item">
                   
                        <div class="col-xs-12 list-item-name">@item.FirstName @item.LastName</div>
                        <div class="col-xs-12">
                            <span class="list-item-subcontent"><span class="list_content_subdiv_bold">@Resource.Parent_Dash_StudentList_SchoolName</span><span>@item.SchoolName</span></span>
                            <span class="list-item-subcontent">
                                <span class="list_content_subdiv_bold">@Resource.Parent_Dash_StudentList_SubStarts</span>
                                <span>@(string.IsNullOrWhiteSpace(@item.SubscriptionStartDate.ToString()) ? "--" : string.Format("{0:dd.MM.yyyy}", item.SubscriptionStartDate))</span>
                            </span>
                            <span class="list-item-subcontent">
                                <span class="list_content_subdiv_bold">@Resource.Parent_Dash_StudentList_SubEnds</span>
                                <span>@(string.IsNullOrWhiteSpace(@item.SubscriptionEndDate.ToString()) ? "--" : string.Format("{0:dd.MM.yyyy}", item.SubscriptionEndDate))</span>
                            </span>
                            

                        </div>
                   
                </div>
            </a>
        }
    }







